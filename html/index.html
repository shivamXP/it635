<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Signin Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="signin.css" rel="stylesheet">
  </head>

  <body background="image.png" text="white">
<div>
<p>
<p>
</div>
<center> 
 <b> 	
         <div id = "output" style="color:DodgerBlue">
    
         </div>
</b>
</center>

    <div class="container">

      	<div>
	<p>  .  
        </p> 
	<p> .
	</p>

	</div>

	
	<form class="form-signin">
        <center><h2 class="form-signin-heading">IT 635</h2><center>
        <label for="inputName" class="sr-only">Username</label>
        <input type="username" id="inputName" class="form-control" placeholder="Username" required autofocus>
        <label for="inputPassword" class="sr-only">Password</label>
        <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
        <div class="checkbox">
          <label>
            <input type="checkbox" value="remember-me"> Remember me
          </label>
        </div>
        <button class="btn btn-lg btn-primary btn-block" type="button" onclick="submitLogin()">Log IN</button>
<button class="btn btn-lg btn-primary btn-block" type="button" onclick="registration()">SINE UP</button>

      </form>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="js/ie10-viewport-bug-workaround.js"></script>
 
	<script>
var root;
var successful;
var fail;


function submitLogin()
{

    
	var uname = document.getElementById("inputName").value;
	var pword = document.getElementById("inputPassword").value;
	sendLoginRequest(uname,pword);
	return 0;
}
function HandleLoginResponse(response)
{
	var text = JSON.parse(response); 
        if(text == "successful"){
		 var uname = document.getElementById("inputName").value;
		if(uname=="root"){
					document.getElementById("output").innerHTML = "auth success manager"
					sessionStorage.setItem("user","root");
					window.location.href='manager.html';
				}else{
					document.getElementById("output").innerHTML = "auth success customer"	
					sessionStorage.setItem("user",uname);
					window.location.href='customer.html';
				}
	}else{
	document.getElementById("output").innerHTML = "sorry username or password incorrect ! try again";
	}
}
function sendLoginRequest(username,password)
{
	var request = new XMLHttpRequest();
	request.open("POST","auth.php",true);
	request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");

	request.onreadystatechange = function ()
	{
		if ((this.readyState == 4)&&(this.status == 200))
		{
			HandleLoginResponse(this.responseText);
		}
	}
	request.send("type=auth&username="+username+"&password="+password);

}
function registration(){
window.location.href='registration.html';
}
</script>
  </body>
</html>
